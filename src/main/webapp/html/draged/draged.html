<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <!-- 引入样式 -->
    <link href="https://unpkg.com/element-ui/lib/theme-chalk/index.css" rel="stylesheet">

    <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap-theme.css" rel="stylesheet">
    <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.css" rel="stylesheet">

    <script src="https://cdn.bootcss.com/jquery/2.2.4/jquery.js"></script>
    <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.js"></script>
    <!-- 先引入 Vue -->
    <!--<script src="https://unpkg.com/vue/dist/vue.js"></script>-->
    <script src="https://cdn.bootcss.com/vue/2.5.16/vue.js"></script>
    <!-- 引入组件库 -->
    <!--<script src="https://unpkg.com/element-ui/lib/index.js"></script>-->
    <script src="https://cdn.bootcss.com/element-ui/2.3.4/index.js"></script>
    <script src="https://cdn.bootcss.com/vue-router/3.0.1/vue-router.js"></script>

    <script src="https://cdn.bootcss.com/jquery-cookie/1.4.1/jquery.cookie.js"></script>

    <script src="/assets/js/require.local.js"></script>
    <script type="module" src="/components/main.js"></script>

    <link rel="stylesheet" href="/assets/css/color-296FB8.css">
    <link rel="stylesheet" href="/assets/css/common.css">
    <link rel="stylesheet" href="/assets/css/index.css">

    <script src="/assets/js/common.js"></script>

    <!-- CDNJS :: Vue (https://cdnjs.com/) -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/vue/2.5.2/vue.min.js"></script>

    <!-- CDNJS :: Sortable (https://cdnjs.com/) -->
    <script src="//cdn.jsdelivr.net/npm/sortablejs@1.7.0/Sortable.min.js"></script>

    <!-- CDNJS :: Vue.Draggable (https://cdnjs.com/) -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/Vue.Draggable/2.15.0/vuedraggable.min.js"></script>
    <style>
    .box{
        width: 100px;
    height: 100px;
    background-color: #337ab7;
    color: white;
    margin: 10px;
    float: left;
    }
    </style>
</head>

<body>
    <div id="appdiv">
        <draggable element="el-collapse" :list="list" :component-data="getComponentData()" @end="onEnd">
            <div class="box" v-for="e in list">
                {{e.name}} - {{e.title}}
            </div>
        </draggable>
    </div>

</body>

<script>
    var ins = new Vue({
        el: '#appdiv',
        data: {
            list:[{title:'title1',name:'name1'},{title:'title2',name:'name2'},{title:'title3',name:'name3'}]
        },
        /*这里必须设置 vue的data的初始数据，即使此时数据为空。*/
        methods: {
            onEnd(event){
                console.log('onEnd ',arguments);
                console.log(event.oldIndex,' to ',event.newIndex)
            },
            handleChange() {
                console.log('changed');
            },
            inputChanged(value) {
                this.activeNames = value;
            },
            getComponentData() {
                return {
                    on: {
                        change: this.handleChange,
                        input: this.inputChanged
                    },
                    props: {
                        value: this.activeNames
                    }
                };
            }
        }
    });
</script>

</html>