<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>带导出图片的ToolBox例子</title>
    <!-- 引入样式 -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">

    <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap-theme.css" rel="stylesheet">
    <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.css" rel="stylesheet">

    <script src="https://cdn.bootcss.com/jquery/2.2.4/jquery.js"></script>
    <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.js"></script>
    <!-- 先引入 Vue -->
    <script src="https://unpkg.com/vue/dist/vue.js"></script>
    <!-- 引入组件库 -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>


    <script src="https://cdn.bootcss.com/echarts/4.1.0/echarts.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/v-charts/lib/index.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/v-charts/lib/style.min.css">
</head>

<body>
    <div id="app">
        <h1>带导出图片的ToolBox例子</h1>
        <el-row>
            <el-col :span="12">
                <ve-line :title="chartData.title" :data="chartData" :toolbox="chartConfig.toolbox"></ve-line>
            </el-col>
            <el-col :span="12">
                <ve-line :data="line_area_Data" :settings="line_area_Data.chartSettings" :toolbox="chartConfig.toolbox"></ve-line>
            </el-col>
        </el-row>
    </div>

</body>

<script type="module">
    import chartConfig from '/assets/js/vcharts_config.js';
    var ins = new Vue({
        el: '#app',
        data: {
            chartConfig:chartConfig,
            line_area_Data: {
                chartSettings: {
                    stack: {
                        '用户': ['访问用户', '下单用户']
                    },
                    area: true
                },
                columns: ['日期', '访问用户', '下单用户', '下单率'],
                rows: [{
                        '日期': '1/1',
                        '访问用户': 1393,
                        '下单用户': 1093,
                        '下单率': 0.32
                    },
                    {
                        '日期': '1/2',
                        '访问用户': 3530,
                        '下单用户': 3230,
                        '下单率': 0.26
                    },
                    {
                        '日期': '1/3',
                        '访问用户': 2923,
                        '下单用户': 2623,
                        '下单率': 0.76
                    },
                    {
                        '日期': '1/4',
                        '访问用户': 1723,
                        '下单用户': 1423,
                        '下单率': 0.49
                    },
                    {
                        '日期': '1/5',
                        '访问用户': 3792,
                        '下单用户': 3492,
                        '下单率': 0.323
                    },
                    {
                        '日期': '1/6',
                        '访问用户': 4593,
                        '下单用户': 4293,
                        '下单率': 0.78
                    }
                ]
            },
            chartData: {
                title: {
                    text: '这个是图标的标题',
                    "textStyle": {
                        "color": "#333"
                    },
                    "subtextStyle": {
                        "color": "#aaa"
                    }
                },
                //定义toolbox 配置,并在 图表组件中引用此配置
                toolbox: {
                    show: true,
                    feature: {
                        dataZoom: {
                            yAxisIndex: 'none'
                        },
                        dataView: {
                            readOnly: false
                        },
                        magicType: {
                            type: ['line', 'bar']
                        },
                        restore: {},
                        saveAsImage: {}
                    }
                },
                columns: ['日期', '访问用户', '下单用户', '下单率'],
                rows: [{
                        '日期': '1/1',
                        '访问用户': 1393,
                        '下单用户': 1093,
                        '下单率': 99.32
                    },
                    {
                        '日期': '1/2',
                        '访问用户': 3530,
                        '下单用户': 3230,
                        '下单率': 12.26
                    },
                    {
                        '日期': '1/3',
                        '访问用户': 2923,
                        '下单用户': 2623,
                        '下单率': 34.76
                    },
                    {
                        '日期': '1/4',
                        '访问用户': 1723,
                        '下单用户': 1423,
                        '下单率': 5.49
                    },
                    {
                        '日期': '1/5',
                        '访问用户': 3792,
                        '下单用户': 3492,
                        '下单率': 2.323
                    },
                    {
                        '日期': '1/6',
                        '访问用户': 4593,
                        '下单用户': 4293,
                        '下单率': 4.78
                    }
                ]
            },
            histogramData: {
                columns: ['日期', '访问用户', '下单用户', '下单率'],
                rows: [{
                        '日期': '1/1',
                        '访问用户': 1393,
                        '下单用户': 1093,
                        '下单率': 0.32
                    },
                    {
                        '日期': '1/2',
                        '访问用户': 3530,
                        '下单用户': 3230,
                        '下单率': 0.26
                    },
                    {
                        '日期': '1/3',
                        '访问用户': 2923,
                        '下单用户': 2623,
                        '下单率': 0.76
                    },
                    {
                        '日期': '1/4',
                        '访问用户': 1723,
                        '下单用户': 1423,
                        '下单率': 0.49
                    },
                    {
                        '日期': '1/5',
                        '访问用户': 3792,
                        '下单用户': 3492,
                        '下单率': 0.323
                    },
                    {
                        '日期': '1/6',
                        '访问用户': 4593,
                        '下单用户': 4293,
                        '下单率': 0.78
                    }
                ]
            }
        },
        methods: {}
    });
</script>

</html>